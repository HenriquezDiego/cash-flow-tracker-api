{
  "openapi": "3.0.3",
  "info": {
    "title": "Cash Flow Tracker API",
    "version": "1.0.0",
    "description": "API para gesti贸n de gastos, presupuestos, categor铆as, gastos fijos y deudas con integraci贸n a Google Sheets.",
    "contact": {
      "name": "API Support"
    }
  },
  "servers": [
    { "url": "/" }
  ],
  "security": [
    { "BearerAuth": [] }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "Endpoints de autenticaci贸n con Google OAuth. Para usar la API: 1) Abre /api/auth/google en el navegador, 2) Completa el login con Google, 3) Usa el token JWT en el bot贸n 'Authorize' de Swagger"
    },
    {
      "name": "Categories",
      "description": "Gesti贸n de categor铆as de gastos"
    },
    {
      "name": "Expenses",
      "description": "Gesti贸n de gastos y transacciones"
    },
    {
      "name": "Fixed Expenses",
      "description": "Gesti贸n de gastos fijos recurrentes"
    },
    {
      "name": "Budget",
      "description": "Gesti贸n de presupuestos mensuales"
    },
    {
      "name": "Debts",
      "description": "Gesti贸n de deudas y tarjetas de cr茅dito"
    },
    {
      "name": "Meta",
      "description": "Metadatos y utilidades del sistema"
    }
  ],
  "paths": {
    "/api/auth/google": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Iniciar login con Google OAuth",
        "description": "锔 IMPORTANTE: Este endpoint redirige a Google. Debe usarse directamente en el navegador, no desde Swagger UI. Abre: http://localhost:3001/api/auth/google en tu navegador para iniciar el login.",
        "responses": {
          "302": {
            "description": "Redirecci贸n a Google OAuth - Abre en navegador",
            "headers": {
              "Location": {
                "description": "URL de Google OAuth",
                "schema": { "type": "string" }
              }
            }
          }
        }
      }
    },
    "/api/auth/google/callback": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Callback de Google OAuth",
        "description": "锔 AUTOMTICO: Este endpoint es llamado autom谩ticamente por Google despu茅s del login. No debe usarse manualmente desde Swagger UI.",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "description": "C贸digo de autorizaci贸n de Google",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Autenticaci贸n exitosa",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "message": { "type": "string" },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "email": { "type": "string" },
                        "name": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/me": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Obtener usuario actual",
        "description": "Obtiene la informaci贸n del usuario autenticado",
        "security": [{ "BearerAuth": [] }],
        "responses": {
          "200": {
            "description": "Informaci贸n del usuario",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "email": { "type": "string" },
                        "name": { "type": "string" },
                        "sheetId": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autenticado"
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Cerrar sesi贸n",
        "description": "Cierra la sesi贸n del usuario actual",
        "security": [{ "BearerAuth": [] }],
        "responses": {
          "200": {
            "description": "Sesi贸n cerrada exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "message": { "type": "string" }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/sheet": {
      "put": {
        "tags": ["Authentication"],
        "summary": "Actualizar Sheet ID",
        "description": "Actualiza el ID de Google Sheet del usuario. Valida acceso y estructura. Se puede omitir validaci贸n con skipValidation=true",
        "security": [{ "BearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sheetId": { 
                    "type": "string", 
                    "description": "ID de Google Sheet a conectar" 
                  },
                  "skipValidation": {
                    "type": "boolean",
                    "description": "Omitir validaci贸n de estructura (default: false)",
                    "default": false
                  }
                },
                "required": ["sheetId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Sheet ID actualizado exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "message": { "type": "string" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "sheetId": { "type": "string" },
                        "title": { "type": "string" }
                      }
                    },
                    "validation": {
                      "type": "object",
                      "properties": {
                        "isValid": { "type": "boolean" },
                        "missingSheets": { "type": "array", "items": { "type": "string" } }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Hoja no v谩lida o sin acceso",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": false },
                    "error": { "type": "string" },
                    "validation": { "type": "object" },
                    "message": { "type": "string" }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/sheets": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Listar Sheets disponibles",
        "description": "Obtiene la lista de todas las hojas de c谩lculo de Google Sheets disponibles para el usuario",
        "security": [{ "BearerAuth": [] }],
        "responses": {
          "200": {
            "description": "Lista de sheets obtenida exitosamente",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string", "description": "Sheet ID" },
                          "name": { "type": "string", "description": "Nombre del sheet" },
                          "createdTime": { "type": "string", "format": "date-time" },
                          "modifiedTime": { "type": "string", "format": "date-time" },
                          "webViewLink": { "type": "string", "format": "uri" }
                        }
                      }
                    },
                    "count": { "type": "number", "description": "N煤mero de sheets" }
                  }
                }
              }
            }
          },
          "401": {
            "description": "No autenticado"
          }
        }
      }
    },
    "/api/auth/sheet/validate": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Validar estructura de Sheet",
        "description": "Valida que un sheet tenga acceso y la estructura requerida sin actualizar el sheetId del usuario",
        "security": [{ "BearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sheetId": { 
                    "type": "string", 
                    "description": "ID de Google Sheet a validar" 
                  }
                },
                "required": ["sheetId"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Validaci贸n completada",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "sheetId": { "type": "string" },
                        "title": { "type": "string" },
                        "isValid": { "type": "boolean" },
                        "missingSheets": { "type": "array", "items": { "type": "string" } },
                        "existingSheets": { "type": "array", "items": { "type": "string" } },
                        "requiredSheets": { "type": "array", "items": { "type": "string" } }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Sheet ID inv谩lido"
          },
          "401": {
            "description": "No autenticado"
          }
        }
      }
    },
    "/api/auth/check": {
      "get": {
        "tags": ["Authentication"],
        "summary": "Verificar autenticaci贸n",
        "description": "Verifica si el usuario est谩 autenticado",
        "responses": {
          "200": {
            "description": "Estado de autenticaci贸n",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "authenticated": { "type": "boolean" },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "string" },
                        "email": { "type": "string" },
                        "name": { "type": "string" }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/meta/expenses/statuses": {
      "get": {
        "tags": ["Meta"],
        "summary": "Get allowed expense statuses",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "data": { "type": "array", "items": { "type": "string" } }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/meta/expenses/entry-types": {
      "get": {
        "tags": ["Meta"],
        "summary": "Get allowed expense entry types",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "data": { "type": "array", "items": { "type": "string" } }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": ["Meta"],
        "summary": "Health check",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/categories": {
      "get": {
        "tags": ["Categories"],
        "summary": "List categories",
        "responses": {
          "200": {
            "description": "Categories list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListCategoriesResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Categories"],
        "summary": "Create category",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["name"],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Category name",
                    "example": "Alimentaci贸n"
                  },
                  "color": {
                    "type": "string",
                    "description": "Hex color code",
                    "example": "#FF5733"
                  },
                  "icon": {
                    "type": "string",
                    "description": "Category icon (emoji or icon name)",
                    "example": ""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Category created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {"type": "integer"},
                        "name": {"type": "string"},
                        "color": {"type": "string"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/categories/{id}": {
      "put": {
        "tags": ["Categories"],
        "summary": "Update category",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {"type": "integer"},
            "description": "Category ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Category name"
                  },
                  "color": {
                    "type": "string",
                    "description": "Hex color code"
                  },
                  "icon": {
                    "type": "string",
                    "description": "Category icon (emoji or icon name)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Category updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {"type": "integer"},
                        "name": {"type": "string"},
                        "color": {"type": "string"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Categories"],
        "summary": "Delete category",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {"type": "integer"},
            "description": "Category ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Category deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {"type": "boolean"},
                    "message": {"type": "string"},
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {"type": "integer"},
                        "deleted": {"type": "boolean"}
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/expenses": {
      "get": {
        "tags": ["Expenses"],
        "summary": "List expenses",
        "responses": {
          "200": {
            "description": "Expenses list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListExpensesResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Expenses"],
        "summary": "Create expense",
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CreateExpenseRequest" } } }
        },
        "responses": {
          "201": { "description": "Created" }
        }
      }
    },
    "/api/expenses/batch": {
      "post": {
        "tags": ["Expenses"],
        "summary": "Create multiple expenses",
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CreateExpensesBulkRequest" } } }
        },
        "responses": { "201": { "description": "Created" } }
      }
    },
    "/api/expenses/{id}": {
      "put": {
        "tags": ["Expenses"],
        "summary": "Update expense",
        "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } } ],
        "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdateExpenseRequest" } } } },
        "responses": { "200": { "description": "Updated" } }
      },
      "delete": {
        "tags": ["Expenses"],
        "summary": "Delete expense",
        "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } } ],
        "responses": { "200": { "description": "Deleted" } }
      }
    },
    "/api/fixed-expenses": {
      "get": { "tags": ["Fixed Expenses"], "summary": "List fixed expenses", "responses": { "200": { "description": "OK", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ListFixedExpensesResponse" } } } } } },
      "post": { "tags": ["Fixed Expenses"], "summary": "Create fixed expense", "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CreateFixedExpenseRequest" } } } }, "responses": { "201": { "description": "Created" } } }
    },
    "/api/fixed-expenses/{id}": {
      "put": { "tags": ["Fixed Expenses"], "summary": "Update fixed expense", "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdateFixedExpenseRequest" } } } }, "responses": { "200": { "description": "Updated" } } },
      "delete": { "tags": ["Fixed Expenses"], "summary": "Delete fixed expense", "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } } ], "responses": { "200": { "description": "Deleted" } } }
    },
    "/api/generate-fixed-expenses": {
      "post": { "tags": ["Fixed Expenses"], "summary": "Generate fixed expenses for a month", "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/GenerateFixedExpensesRequest" } } } }, "responses": { "201": { "description": "Created" } } }
    },
    "/api/budget": {
      "get": { "tags": ["Budget"], "summary": "Get budget", "responses": { "200": { "description": "OK", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ListBudgetResponse" } } } } } },
      "put": { "tags": ["Budget"], "summary": "Update budget", "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdateBudgetRequest" } } } }, "responses": { "200": { "description": "Updated" } } }
    },
    "/api/debts": {
      "get": { "tags": ["Debts"], "summary": "List debts", "responses": { "200": { "description": "OK", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ListDebtsResponse" } } } } } },
      "post": { "tags": ["Debts"], "summary": "Create debt", "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CreateDebtRequest" } } } }, "responses": { "201": { "description": "Created" } } }
    },
    "/api/debts/{id}": {
      "put": { "tags": ["Debts"], "summary": "Update debt", "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UpdateDebtRequest" } } } }, "responses": { "200": { "description": "Updated" } } },
      "delete": { "tags": ["Debts"], "summary": "Delete debt", "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } } ], "responses": { "200": { "description": "Deleted" } } }
    },
    "/api/debts/{id}/summary": {
      "get": { "tags": ["Debts"], "summary": "Debt summary", "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } } ], "responses": { "200": { "description": "OK" } } }
    },
    "/api/debts/summary": {
      "get": { "tags": ["Debts"], "summary": "All debts summaries", "responses": { "200": { "description": "OK" } } }
    },
    "/api/debts/{id}/installments": {
      "get": { "tags": ["Debts"], "summary": "Debt installments", "parameters": [ { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } }, { "in": "query", "name": "months", "required": true, "schema": { "type": "integer", "minimum": 1 } }, { "in": "query", "name": "start", "required": false, "schema": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" } } ], "responses": { "200": { "description": "OK" } } }
    }
    ,
    "/api/debts/{id}/statements": {
      "post": {
        "tags": ["Debts"],
        "summary": "Create statement for period",
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } },
          { "in": "query", "name": "period", "required": false, "schema": { "type": "string", "pattern": "^\\d{4}-\\d{2}$" } },
          { "in": "query", "name": "date", "required": false, "schema": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" } },
          { "in": "query", "name": "recompute", "required": false, "schema": { "type": "boolean" } }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "examples": {
                  "createdStatement": {
                    "summary": "Statement created for 2025-08",
                    "value": {
                      "success": true,
                      "idempotency": { "key": "visa-1234|2025-08-22", "status": "created" },
                      "data": {
                        "debtId": "visa-1234",
                        "statementDate": "2025-08-22",
                        "dueDate": "2025-09-16",
                        "previousBalance": 315.14,
                        "charges": 1115.38,
                        "interests": 0.0,
                        "payments": 562.67,
                        "statementBalance": 867.85,
                        "bonifiableInterest": 20.62,
                        "installmentBalance": 888.47,
                        "annualEffectiveRate": 0.441,
                        "termMonths": null,
                        "periodDays": 31,
                        "paymentMade": 0.0,
                        "interestBreakdown": { "interestSobreSaldo": 0.0, "interestBonificable": 20.62 }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/debts/{id}/statement-preview": {
      "get": {
        "tags": ["Debts"],
        "summary": "Preview statement without persisting",
        "parameters": [
          { "in": "path", "name": "id", "required": true, "schema": { "type": "string" } },
          { "in": "query", "name": "period", "required": false, "schema": { "type": "string", "pattern": "^\\d{4}-\\d{2}$" } },
          { "in": "query", "name": "date", "required": false, "schema": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" } },
          { "in": "query", "name": "recompute", "required": false, "schema": { "type": "boolean" }, "description": "If true, recompute even if stored record exists" }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "examples": {
                  "cached": {
                    "summary": "Returns stored statement when recompute=false",
                    "value": {
                      "success": true,
                      "cached": true,
                      "data": {
                        "debtId": "visa-1234",
                        "statementDate": "2025-08-22",
                        "dueDate": "2025-09-16",
                        "previousBalance": 315.14,
                        "charges": 1115.38,
                        "interests": 0.0,
                        "payments": 562.67,
                        "statementBalance": 867.85,
                        "bonifiableInterest": 20.62,
                        "installmentBalance": 888.47,
                        "annualEffectiveRate": 0.441,
                        "termMonths": null,
                        "periodDays": 31,
                        "paymentMade": 0.0
                      }
                    }
                  },
                  "recomputed": {
                    "summary": "Recompute result when recompute=true",
                    "value": {
                      "success": true,
                      "data": {
                        "debtId": "visa-1234",
                        "statementDate": "2025-09-22",
                        "dueDate": "2025-10-16",
                        "previousBalance": 867.85,
                        "charges": 250.00,
                        "interests": 10.12,
                        "payments": 100.00,
                        "statementBalance": 1027.97,
                        "bonifiableInterest": 5.34,
                        "installmentBalance": 1033.31,
                        "annualEffectiveRate": 0.441,
                        "termMonths": null,
                        "periodDays": 31,
                        "paymentMade": 0.0,
                        "interestBreakdown": { "interestSobreSaldo": 10.12, "interestBonificable": 5.34 }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT token obtained from /api/auth/google"
      }
    },
    "schemas": {
      "Expense": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "date": { "type": "string", "format": "date" },
          "description": { "type": "string" },
          "amount": { "type": "number" },
          "categoryId": { "type": "integer" },
          "isFixed": { "type": "boolean" },
          "fixedExpenseId": { "type": "string", "nullable": true },
          "debtId": { "type": "string", "nullable": true, "description": "If present, expense is credit-related. entryType becomes required." },
          "entryType": { "type": "string", "nullable": true, "enum": ["charge", "payment"], "description": "Required when debtId is present. Omit otherwise." },
          "status": { "type": "string", "nullable": true, "enum": ["pending", "paid", "cancelled", "skipped", "overdue"] }
        }
      },
      "FixedExpense": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "amount": { "type": "number" },
          "categoryId": { "type": "integer" },
          "dayOfMonth": { "type": "integer", "minimum": 1, "maximum": 31 },
          "active": { "type": "boolean" }
        }
      },
      "BudgetItem": {
        "type": "object",
        "properties": {
          "month": { "type": "string", "pattern": "^\\d{4}-\\d{2}$" },
          "amount": { "type": "number" }
        }
      },
      "Category": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "color": { "type": "string" },
          "icon": { "type": "string" }
        }
      },
      "Debt": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "issuer": { "type": "string" },
          "creditLimit": { "type": "number" },
          "balance": { "type": "number" },
          "dueDay": { "type": "integer" },
          "cutOffDay": { "type": "integer" },
          "maskPan": { "type": "string" },
          "interesEfectivo": { "type": "number" },
          "brand": { "type": "string" },
          "active": { "type": "boolean" }
        }
      },
      "ListExpensesResponse": { "type": "object", "properties": { "success": { "type": "boolean" }, "count": { "type": "integer" }, "data": { "type": "array", "items": { "$ref": "#/components/schemas/Expense" } } } },
      "CreateExpenseRequest": { "$ref": "#/components/schemas/Expense" },
      "CreateExpensesBulkRequest": { "type": "object", "properties": { "expenses": { "type": "array", "items": { "$ref": "#/components/schemas/Expense" } } } },
      "UpdateExpenseRequest": { "$ref": "#/components/schemas/Expense" },
      "ListFixedExpensesResponse": { "type": "object", "properties": { "success": { "type": "boolean" }, "count": { "type": "integer" }, "data": { "type": "array", "items": { "$ref": "#/components/schemas/FixedExpense" } } } },
      "CreateFixedExpenseRequest": { "$ref": "#/components/schemas/FixedExpense" },
      "UpdateFixedExpenseRequest": { "$ref": "#/components/schemas/FixedExpense" },
      "GenerateFixedExpensesRequest": { "type": "object", "properties": { "month": { "type": "string", "pattern": "^\\d{4}-\\d{2}$" } }, "required": ["month"] },
      "ListBudgetResponse": { "type": "object", "properties": { "success": { "type": "boolean" }, "count": { "type": "integer" }, "data": { "type": "array", "items": { "$ref": "#/components/schemas/BudgetItem" } } } },
      "UpdateBudgetRequest": { "$ref": "#/components/schemas/BudgetItem" },
      "ListCategoriesResponse": { "type": "object", "properties": { "success": { "type": "boolean" }, "count": { "type": "integer" }, "data": { "type": "array", "items": { "$ref": "#/components/schemas/Category" } } } },
      "ListDebtsResponse": { "type": "object", "properties": { "success": { "type": "boolean" }, "count": { "type": "integer" }, "data": { "type": "array", "items": { "$ref": "#/components/schemas/Debt" } } } }
    }
  }
}


